Задания

Используя команду find:

    Найдите все файлы и каталоги, имя которых содержит слово pass, поиск начните с корневого каталога.
sudo find / -name "*pass*"

    Найдите все файлы и каталоги, имя которых содержит слово pass без учёта регистра, поиск начните с корневого каталога.
sudo find / -iname "*pass*"

    Найдите все файлы и каталоги, имя которых содержит слово pass, ограничив глубину поиска одним каталогом, поиск начните с корневого каталога.
sudo find / -maxdepth 1 -name "*pass*"

    Найдите все файлы и каталоги, имена которых оканчиваются на .bin. Поиск необходимо выполнить в каталоге /home.
sudo find /home -regex ".*\.\(bin\)"

    Найдите все файлы (и только файлы) с расширением bak и удалите их.
sudo find / -type f -regex ".*\.\(bak\)" -delete

    Найдите все файлы (и только файлы) с расширениями txt и sh.
sudo find / -type f -regex ".*\.\(txt\|sh\)"

    Найдите все файлы (и только файлы) в текущем каталоге и выведите только имя файла (без каталога), владельца, группу владельца, количество жёстких ссылок на этот файл и его размер в байтах.
find . -maxdepth 1 -type f | xargs -l ls -l | tr -s ' ' '\t' | cut -f2,3,4,5,9

    Найдите все пустые каталоги в текущем каталоге.
find . -maxdepth 1 -type d -empty

    Найдите все пустые каталоги в текущем каталоге и удалите их.
find . -maxdepth 1 -type d -empty -delete

    Найдите и удалите все пустые файлы (и только файлы).
find / -type f -empty -delete

    Найдите все файлы (и только файлы) в текущем каталоге, на которые есть хотя бы одна жёсткая ссылка.
sudo find / -type f -links '+0'

    Найдите файлы и каталоги в каталоге /etc, не принадлежащие пользователю root.

    Найдите все файлы (и только файлы), у которых нет расширения sh.

    Найдите все файлы (и только файлы), у которых количество жёстких ссылок более двух.
sudo find / -type f -links '+2'

    Найдите все файлы (и только файлы) в каталоге /usr/bin, последний доступ к которым осуществлялся более трёх месяцев назад.
sudo find /usr/bin /usr/share -type f -atime +90

    Найдите все файлы (и только файлы) в каталогах /usr/bin и /usr/share, созданные или изменённые в течении последних 10 дней.
sudo find /usr/bin /usr/share -type f -mtime -10

    Найдите и удалите все файлы (и только файлы) в каталоге /tmp, которые не менялись более двух недель.
sudo find /usr/bin /usr/share -type f -mtime +14

    Найдите все файлы (и только файлы) в каталоге /usr/bin с установленным флагом suid/sgid.
sudo find / -type f -perm 04000 -o -perm -02000

Используя команды find и xargs или параметр -exec команды find:
    Найдите все файлы (и только файлы) с расширением txt и подсчитайте количество строк во всех этих файлах.
sudo find / -type f -regex  ".*\.\(txt\)" | xargs -l wc -l 2> /dev/null | tr -s ' ' '\t' | cut -f1 | awk '{ sum += $1 } END { print sum }'

    Найдите все каталоги с названием .svn и удалите их, включая содержимое этих каталогов, попутно выводя список удалённых файлов на экран.
sudo find / -type d -name  "*.svn" | xargs -l ls 2> /dev/null | xargs -l rm -rf  2> /dev/null

    Найдите все файлы (и только файлы) с расширением sh и добавьтем им право на исполнение.
sudo find / -type f -regex  ".*\.\(sh\)" | xargs -l chmod u=x,g=x,o=x

    Найдите все файлы (и только файлы) с расширением conf в каталоге /etc и подсчитайте их суммарный размер, используя команду du.
sudo find / -type f -regex  ".*\.\(conf\)" | xargs -l du -s 2> /dev/null |  tr -s ' ' '\t' | cut -f1 | awk '{ sum += $1 } END { print sum }'

Протестируйте команды, которые вы написали выше, для файлов и каталогов, в именах которых содержатся пробелы и специальные символы, такие как ! и &.

Используя команду grep:
    Из файла /var/log/messages вывести строки, содержащие ключевое слово ERROR, без учёта регистра.
sudo grep -i 'ERROR' /var/log/messages

    Из файла /var/log/messages вывести количество строк, не содержащих ключевое слово ERROR, без учёта регистра.
sudo grep -v -i 'ERROR' /var/log/messages | wc -l
или
sudo grep -c -i -v 'ERROR' /var/log/messages

    Из файла /var/log/messages вывести строки, содержащие только слово ERROR целиком, с учётом регистра.
sudo grep -w 'ERROR' /var/log/messages

    Вывести количество строк из файла /etc/group, совпадающих с шаблоном wheel.
sudo grep -w "wheel" /etc/group

    Найти во всех файлах из текущего каталога и вложенных подкаталогов строки, содержащие шаблон #!bin/bash.
sudo find . -type f | xargs -l grep -w "bin/bash" 2> /dev/null

    Изменить предыдущую команду таким образом, чтобы она выводила дополнительные 10 строк после каждого найденного шаблона.
sudo find . -type f | xargs -l grep -B 10 -w "bin/bash" 2> /dev/null

    Найти во всех файлах с расширением sh из текущего каталога и вложенных подкаталогов строки, содержащие слово echo целиком. В выводе команды grep найденные слова выделите цветом.
sudo find / -type f -regex ".*\.\(sh\)" | xargs -l grep "echo" --color 2> /dev/null

    Измените предыдущую команду таким образом, чтобы команда grep отображала также имя файла и номер строки, в которой было обнаружено совпадение с шаблоном.
sudo find / -type f -regex ".*\.\(sh\)" | xargs -l grep -n "echo" --color 2> /dev/null /dev/null

